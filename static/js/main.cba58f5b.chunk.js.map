{"version":3,"sources":["State/ActionTypes/index.js","State/Reducers/todoReducer.js","State/Reducers/loadingReducer.js","State/Reducers/index.js","State/store.js","State/ActionCreators/index.js","Hooks/useActions.js","Components/Styled/Global.jsx","Components/Styled/Container.styled.jsx","Components/Styled/Logo.styled.jsx","Components/Logo.jsx","Components/Styled/SectionLabel.styled.jsx","Components/SectionLabel.jsx","Components/Styled/Item.styled.jsx","Components/TodoItem.jsx","Components/Styled/ListWrapper.styled.jsx","Components/UnfinishedList.jsx","Components/FinishedList.jsx","Components/Styled/AddTodo.styled.jsx","Components/AddBtn.jsx","Components/Styled/InputItem.styled.jsx","Components/InputItem.jsx","Components/AddTodo.jsx","Components/Styled/LoadingAnim.styled.jsx","Components/Loading.jsx","Components/App.jsx","index.jsx"],"names":["ActionType","initialState","reducer","newState","state","action","type","todos","payload","id","content","is_done","JSON","parse","stringify","forEach","todo","filter","reducers","combineReducers","todoReducer","loading","loadingReducer","store","createStore","applyMiddleware","thunk","baseURL","axiosConfig","headers","get_todos","dispatch","a","set_loading","axios","get","result","data","add_todo","req","post","update_todo","item","delete_todo","delete","useActions","useDispatch","bindActionCreators","actionCreators","GlobalStyles","createGlobalStyle","theme","colors","bg","StyledContainer","styled","div","breakPoints","tablet","StyledLogo","h1","title","mobile","Logo","StyledSectionLabel","p","sectionLabel","SectionLabel","text","number","memo","StyledItem","li","itemRadius","itemBg","mark","white","TodoItem","useMemo","useState","isEditing","setIsEditing","tempContent","setTempContent","itemRef","useRef","textRef","markRef","useEffect","stopEditing","e","current","contains","target","currentContent","value","document","body","addEventListener","removeEventListener","ref","className","onClick","window","setTimeout","focus","setSelectionRange","length","turnOnEditing","onKeyPress","charCode","leaveEditing","onChange","prevProps","nextProps","prevItem","nextItem","StyledListWrapper","ul","UnfinishedList","useSelector","map","FinishedList","StyledAddTodo","StyledAddBtn","button","AddBtn","StyledInputItem","InputItem","val","AddTodo","isAdding","setIsAdding","setContent","reset","onSubmit","rotation","keyframes","StyledLoadingAnim","LoadingSpinner","isLoading","itemText","closeBtn","completeAddingBtn","App","Loading","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.cba58f5b.chunk.js","sourcesContent":["export const ActionType = {\r\n  GET_TODO: 'get_todo',\r\n  ADD_TOO: 'add_todo',\r\n  DELETE_TODO: 'delete_todo',\r\n  UPDATE_TODO: 'update_todo',\r\n  SET_LOADING: 'set_loading',\r\n};\r\n","import { ActionType } from '../ActionTypes';\r\n\r\nconst initialState = [];\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  let newState;\r\n  switch (action.type) {\r\n    case ActionType.GET_TODO:\r\n      newState = { ...state, todos: action.payload };\r\n      return action.payload;\r\n\r\n    case ActionType.ADD_TOO:\r\n      const { id, content, is_done } = action.payload;\r\n      return [...state, { id, content, is_done }];\r\n\r\n    case ActionType.UPDATE_TODO:\r\n      newState = JSON.parse(JSON.stringify(state));\r\n      newState.forEach((todo) => {\r\n        if (todo.id === action.payload.id) {\r\n          todo.content = action.payload.content;\r\n          todo.is_done = action.payload.is_done;\r\n        }\r\n      });\r\n      return newState;\r\n    case ActionType.DELETE_TODO:\r\n      newState = state.filter((todo) => todo.id !== action.payload);\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { ActionType } from '../ActionTypes';\r\n\r\nconst initialState = false;\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ActionType.SET_LOADING:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from 'redux';\r\nimport todoReducer from './todoReducer';\r\nimport loadingReducer from './loadingReducer';\r\n\r\nconst reducers = combineReducers({\r\n  todos: todoReducer,\r\n  loading: loadingReducer,\r\n});\r\n\r\nexport default reducers;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport reducers from './Reducers';\r\n\r\nexport const store = createStore(reducers, {}, applyMiddleware(thunk));\r\n","import { ActionType } from '../ActionTypes';\r\nimport axios from 'axios';\r\n\r\nconst baseURL = 'https://todos.d.simpleinfo.tw/api';\r\n\r\nconst axiosConfig = {\r\n  headers: {\r\n    'api-key': '78bba90a-c22a-405e-a617-9abc07a9c3db',\r\n  },\r\n};\r\n\r\nexport const get_todos = () => {\r\n  return async (dispatch) => {\r\n    dispatch(set_loading(true));\r\n\r\n    const result = await axios.get(`${baseURL}/todos`, axiosConfig);\r\n    dispatch({\r\n      type: ActionType.GET_TODO,\r\n      payload: result.data,\r\n    });\r\n\r\n    dispatch(set_loading(false));\r\n  };\r\n};\r\n\r\nexport const add_todo = (content) => {\r\n  const req = {\r\n    content,\r\n    is_done: false,\r\n  };\r\n  return async (dispatch) => {\r\n    dispatch(set_loading(true));\r\n\r\n    const result = await axios.post(`${baseURL}/todos`, req, axiosConfig);\r\n    dispatch({\r\n      type: ActionType.ADD_TOO,\r\n      payload: {\r\n        id: result.data.id,\r\n        content: result.data.content,\r\n        is_done: false,\r\n      },\r\n    });\r\n\r\n    dispatch(set_loading(false));\r\n  };\r\n};\r\n\r\nexport const update_todo = (item) => {\r\n  return async (dispatch) => {\r\n    dispatch(set_loading(true));\r\n    const result = await axios.post(\r\n      `${baseURL}/todos/${item.id}`,\r\n      item,\r\n      axiosConfig\r\n    );\r\n    dispatch({\r\n      type: ActionType.UPDATE_TODO,\r\n      payload: {\r\n        id: result.data.id,\r\n        content: result.data.content,\r\n        is_done: result.data.is_done,\r\n      },\r\n    });\r\n    dispatch(set_loading(false));\r\n  };\r\n};\r\n\r\nexport const delete_todo = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch(set_loading(true));\r\n    await axios.delete(`${baseURL}/todos/${id}`, axiosConfig);\r\n    dispatch({\r\n      type: ActionType.DELETE_TODO,\r\n      payload: id,\r\n    });\r\n    dispatch(set_loading(false));\r\n  };\r\n};\r\n\r\nexport const set_loading = (loading) => {\r\n  return {\r\n    type: ActionType.SET_LOADING,\r\n    payload: loading,\r\n  };\r\n};\r\n","import { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { actionCreators } from '../State';\r\n\r\nexport const useActions = () => {\r\n  const dispatch = useDispatch();\r\n  return bindActionCreators(actionCreators, dispatch);\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyles = createGlobalStyle`\r\n  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700&display=swap');\r\n    /* http://meyerweb.com/eric/tools/css/reset/ \r\n    v2.0 | 20110126\r\n    License: none (public domain)\r\n  */\r\n\r\n  html, body, div, span, applet, object, iframe,\r\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n  a, abbr, acronym, address, big, cite, code,\r\n  del, dfn, em, img, ins, kbd, q, s, samp,\r\n  small, strike, strong, sub, sup, tt, var,\r\n  b, u, i, center,\r\n  dl, dt, dd, ol, ul, li,\r\n  fieldset, form, label, legend,\r\n  table, caption, tbody, tfoot, thead, tr, th, td,\r\n  article, aside, canvas, details, embed, \r\n  figure, figcaption, footer, header, hgroup, \r\n  menu, nav, output, ruby, section, summary,\r\n  time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n  }\r\n  /* HTML5 display-role reset for older browsers */\r\n  article, aside, details, figcaption, figure, \r\n  footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  body {\r\n    line-height: 1;\r\n  }\r\n  ol, ul {\r\n    list-style: none;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after,\r\n  q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  body {\r\n    font-family: 'Noto Sans TC', sans-serif;\r\n    background-color: ${({ theme }) => theme.colors.bg};\r\n    margin: 0;\r\n    font-size: 20px;\r\n    overflow-x: hidden;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n  }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledContainer = styled.div`\r\n  width: 1024px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  padding-top: 40px;\r\n  padding-bottom: 200px;\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.tablet}) {\r\n    width: 100vw;\r\n    padding: 40px 40px 208px 40px;\r\n  }\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.tablet}) {\r\n    padding: 40px 24px 196px 24px;\r\n  }\r\n  \r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledLogo = styled.h1`\r\n  color: ${({ theme }) => theme.colors.title};\r\n  font-size: 64px;\r\n  line-height: 87px;\r\n  font-weight: bold;\r\n  margin-bottom: 40px;\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n    font-size: 48px;\r\n    line-height: 64px;\r\n    margin-bottom: 24px;\r\n  }\r\n`;","import { StyledLogo } from './Styled/Logo.styled';\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <>\r\n      <StyledLogo>Todos</StyledLogo>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Logo;","import styled from 'styled-components';\r\n\r\nexport const StyledSectionLabel = styled.p`\r\n  color: ${({ theme }) => theme.colors.sectionLabel};\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n  line-height: 22px;\r\n  margin-bottom: 24px;\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n    margin-bottom: 16px;\r\n  }\r\n`;","import PropTypes from 'prop-types';\r\nimport { StyledSectionLabel } from './Styled/SectionLabel.styled';\r\nimport { memo } from 'react';\r\n\r\nconst SectionLabel = ({ text, number}) => {\r\n  return (\r\n    <>\r\n      <StyledSectionLabel>{text} ({number})</StyledSectionLabel>\r\n    </>\r\n  )\r\n}\r\n\r\nSectionLabel.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  number: PropTypes.number.isRequired\r\n}\r\n\r\nexport default memo(SectionLabel);","import styled from 'styled-components';\r\n\r\nexport const StyledItem = styled.li`\r\n  display: flex;\r\n  max-width: 1024px;\r\n  min-height: 88px;\r\n  width: 100%;\r\n  position: relative;\r\n  border-radius: ${({ theme }) => theme.itemRadius};\r\n  overflow: hidden;\r\n  box-shadow: 0px 4px 12px #00000026;\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n    min-height: 70px;\r\n  }\r\n\r\n\r\n  .content,\r\n  .base {\r\n    min-height: 88px;\r\n    display: flex;\r\n    width: 100%;\r\n    min-height: 100%;\r\n    padding: 24px 40px 24px 24px;\r\n    border-radius: ${({ theme }) => theme.itemRadius};\r\n\r\n    @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n      padding: 24px 24px 24px 16px;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    position: relative;\r\n    width: 100%;\r\n    z-index: 3;\r\n    background: ${({ theme }) => theme.colors.itemBg};\r\n    align-items: center;\r\n    transition: all 0.2s ease-in;\r\n\r\n    p {\r\n      width: 95%;\r\n      word-break: break-all;\r\n      line-height: 22px;\r\n    }\r\n  }\r\n\r\n  textarea {\r\n    display: none;\r\n    resize: none;\r\n    border: none;\r\n    border-bottom: 2px solid #eee;\r\n    width: 100%;\r\n    background: transparent;\r\n    font-size: 20px;\r\n    line-height: 27px;\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n\r\n  &.is--done {\r\n    box-shadow: none;\r\n\r\n    .mark {\r\n      opacity: 0.33;\r\n      &:after {\r\n        opacity: 1;\r\n      }\r\n    }\r\n\r\n    .content {\r\n      background: #DBDBDB;\r\n      color: #626262;\r\n    }\r\n  }\r\n\r\n  .text {\r\n    display: block;\r\n  }\r\n  textarea {\r\n    display: none;\r\n  }\r\n\r\n  &.is--editing {\r\n    .content {\r\n      width: calc(100% - 88px);\r\n\r\n      @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n        width: calc(100% - 64px);\r\n      }\r\n    }\r\n    .text {\r\n      display: none;\r\n    }\r\n    textarea {\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  .mark {\r\n    flex-shrink: 0;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 50%;\r\n    border: 4px solid ${({ theme }) => theme.colors.mark};\r\n    background: transparent;\r\n    margin-right: 24px;\r\n    position: relative;\r\n\r\n    @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n      margin-right: 16px;\r\n    }\r\n\r\n    &:hover {\r\n      &:after {\r\n        opacity: 0.33;\r\n      }\r\n    }\r\n\r\n    &:after {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translateX(-50%) translateY(-50%);\r\n      background: ${({ theme }) => theme.colors.mark};\r\n      opacity: 0;\r\n      height: 24px;\r\n      width: 24px;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n\r\n  .base {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    background-color: ${({ theme }) => theme.colors.delete};\r\n  }\r\n  .deleteBtn {\r\n    font-size: 32px;\r\n    padding: 0;\r\n    margin-left: auto;\r\n    background-color: transparent;\r\n    color: ${({ theme }) => theme.colors.white};\r\n    border: none;\r\n  }\r\n`;","import { StyledItem } from \"./Styled/Item.styled\";\r\nimport { useState, useRef, useEffect, memo, useMemo } from 'react';\r\nimport { useActions } from '../Hooks/useActions';\r\nconst TodoItem = ({ item }) => {\r\n  const { id, is_done, content } = useMemo(() => item, [item]);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [tempContent, setTempContent] = useState(content);\r\n  const { update_todo, delete_todo } = useActions();\r\n  const itemRef = useRef();\r\n  const textRef = useRef();\r\n  const markRef = useRef();\r\n\r\n\r\n  useEffect(() => {\r\n    const stopEditing = (e) => {\r\n      if (!itemRef.current.contains(e.target)) {\r\n        setIsEditing(false);\r\n        let currentContent = textRef.current.value;\r\n        if (currentContent !== content) {\r\n          update_todo({\r\n            id,\r\n            content: currentContent,\r\n            is_done: is_done\r\n          });\r\n        }\r\n      }\r\n    }\r\n    if (isEditing) {\r\n      document.body.addEventListener(\"click\", stopEditing);\r\n    }\r\n    return () => {\r\n      document.body.removeEventListener(\"click\", stopEditing);\r\n    }\r\n  }, [content, id, is_done, update_todo, isEditing]);\r\n\r\n\r\n  const turnOnEditing = (e) => {\r\n    if (markRef.current.contains(e.target)) {\r\n      return;\r\n    }\r\n    setIsEditing(true);\r\n    // a workaround\r\n    window.setTimeout(() => {\r\n      textRef.current.focus();\r\n      // start at the end if the input\r\n      textRef.current.setSelectionRange(tempContent.length, tempContent.length);\r\n    }, 0)\r\n  }\r\n\r\n  const leaveEditing = (e) => {\r\n    if (e.charCode === 13 && isEditing) {\r\n      if (tempContent !== content) {\r\n        update_todo({\r\n          id,\r\n          content: tempContent,\r\n          is_done: is_done\r\n        });\r\n      }\r\n      setIsEditing(false);\r\n    }\r\n  }\r\n\r\n  const toggleFinished = () => {\r\n    update_todo({\r\n      id,\r\n      content: tempContent,\r\n      is_done: !is_done\r\n    })\r\n  };\r\n\r\n  const deleteTodo = () => {\r\n    delete_todo(id);\r\n  }\r\n\r\n  return (\r\n    <StyledItem ref={itemRef} className={`todo-item ${is_done ? \"is--done\" : \"\"} ${isEditing ? 'is--editing' : \"\"}`}>\r\n      <div className=\"content\" onClick={e => turnOnEditing(e)}>\r\n        <button\r\n          ref={markRef}\r\n          className=\"mark\"\r\n          onClick={e => toggleFinished()}>\r\n        </button>\r\n        <p\r\n          className=\"text\"\r\n        >\r\n          {tempContent}\r\n        </p>\r\n        <textarea\r\n          ref={textRef}\r\n          onKeyPress={e => {leaveEditing(e)}}\r\n          value={tempContent}\r\n          onChange={e => setTempContent(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"base\">\r\n        <button className=\"deleteBtn\" onClick={e => deleteTodo()}>\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n      </div>\r\n    </StyledItem>\r\n  )\r\n}\r\n\r\nexport default memo(TodoItem, (prevProps, nextProps) => {\r\n  let { item: prevItem } = prevProps;\r\n  let { item: nextItem } = nextProps;\r\n\r\n  if (prevItem.content !== nextItem.content || prevItem.is_done !== nextItem.is_done) {\r\n    return false;\r\n  };\r\n\r\n  return true;\r\n});","import styled from 'styled-components';\r\n\r\nexport const StyledListWrapper = styled.ul`\r\n  min-height: 200px;\r\n  padding-bottom: 40px;\r\n  li {\r\n    margin-bottom: 24px;\r\n  }\r\n  li:last-of-type {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n    li {\r\n      margin-bottom: 12px;\r\n    }\r\n  }\r\n`;","import SectionLabel from \"./SectionLabel\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport { StyledListWrapper } from \"./Styled/ListWrapper.styled\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nconst UnfinishedList = () => {\r\n  const todos = useSelector(state => {\r\n    return state.todos.filter(todo => todo.is_done === false)\r\n  });\r\n  \r\n  const renderItems = () => {\r\n    if(todos.length) {\r\n      return todos.map(todo => <TodoItem key={todo.id} item={todo}></TodoItem>)\r\n    }\r\n    return \"\";\r\n  };\r\n  return (\r\n    <div>\r\n      <SectionLabel text=\"未完成待辦\" number={todos.length} />\r\n      <StyledListWrapper>\r\n        {renderItems()}\r\n      </StyledListWrapper>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UnfinishedList;","import TodoItem from \"./TodoItem\";\r\nimport SectionLabel from \"./SectionLabel\";\r\nimport { StyledListWrapper } from \"./Styled/ListWrapper.styled\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst FinishedList = () => {\r\n  const todos = useSelector(state => state.todos.filter(todo => todo.is_done === true));\r\n\r\n  const renderItems = () => {\r\n    if (todos.length) {\r\n      return todos.map(todo => {\r\n\r\n        return <TodoItem key={todo.id} item={todo}></TodoItem>\r\n      })\r\n    }\r\n    return \"\";\r\n\r\n  };\r\n  return (\r\n    <div>\r\n      <SectionLabel text=\"已完成待辦\" number={todos.length} />\r\n      <StyledListWrapper>\r\n        {renderItems()}\r\n      </StyledListWrapper>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FinishedList;","import styled from \"styled-components\";\r\n\r\nexport const StyledAddTodo = styled.div`\r\n  position: absolute;\r\n  bottom: 80px;\r\n  right: 0;\r\n  width: 100%;\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.tablet}) {\r\n    width: calc(100% - 48px);\r\n    right: 24px;\r\n  }\r\n\r\n  .btn-group {\r\n    display: flex;\r\n    align-items: center;\r\n    position: absolute;\r\n    right: 0;\r\n  }\r\n\r\n  .cancel,\r\n  .submit {\r\n    border-radius: 50%;\r\n    border: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .cancel {\r\n    width: 64px;\r\n    height: 64px;\r\n    border: 4px solid #B1B1B1;\r\n    color: #B1B1B1;\r\n    font-size: 32px;\r\n    margin-right: 17px;\r\n  }\r\n\r\n  .submit {\r\n    height: 80px;\r\n    width: 80px;\r\n    color: #fff;\r\n    background: #80E894;\r\n    font-size: 40px;\r\n    box-shadow: 0px 4px 12px #0000004D;\r\n\r\n    @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n      height: 64px;\r\n      width: 64px;\r\n      font-size: 36px;\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const StyledAddBtn = styled.button`\r\n  height: 80px;\r\n  width: 80px;\r\n  border: none;\r\n  background: ${({ theme }) => theme.colors.mark};\r\n  font-size: 40px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #fff;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  right: 0;\r\n  box-shadow: 0px 4px 12px #0000004D;\r\n\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n    height: 64px;\r\n    width: 64px;\r\n  }\r\n`;","import { StyledAddBtn } from \"./Styled/AddTodo.styled\";\r\nconst AddBtn = ({ onClick }) => {\r\n  return (\r\n    <StyledAddBtn onClick={e => onClick(e)}>\r\n      <i className=\"fas fa-plus\"></i>\r\n    </StyledAddBtn>\r\n  )\r\n}\r\n\r\nexport default AddBtn;","import styled from \"styled-components\";\r\n\r\nexport const StyledInputItem = styled.div`\r\n  background: #fff;\r\n  width: 100%;\r\n  height: 88px;\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: ${({ theme })=> theme.itemRadius};\r\n  padding: 24px;\r\n  margin-bottom: 40px;\r\n  box-shadow: 0px 4px 12px #00000026;\r\n  @media(max-width: ${({ theme }) => theme.breakPoints.tablet}) {\r\n      height: 72px;\r\n  }\r\n\r\n  .mark {\r\n    flex-shrink: 0;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 50%;\r\n    border: 4px solid ${({ theme }) => theme.colors.mark};\r\n    background: transparent;\r\n    margin-right: 24px;\r\n    position: relative;\r\n\r\n    @media(max-width: ${({ theme }) => theme.breakPoints.tablet}) {\r\n      margin-right: 16px;\r\n    }\r\n\r\n    &:hover {\r\n      &:after {\r\n        opacity: 0.33;\r\n      }\r\n    }\r\n\r\n    &:after {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translateX(-50%) translateY(-50%);\r\n      background: ${({ theme }) => theme.colors.mark};\r\n      opacity: 0;\r\n      height: 24px;\r\n      width: 24px;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n\r\n  textarea {\r\n    display: block;\r\n    resize: none;\r\n    border: none;\r\n    border-bottom: 2px solid #eee;\r\n    width: 100%;\r\n    background: transparent;\r\n    font-size: 20px;\r\n    line-height: 27px;\r\n    height: 28px;\r\n\r\n\r\n    @media(max-width: ${({ theme }) => theme.breakPoints.mobile}) {\r\n      height: 22px;\r\n    }\r\n\r\n    &:focus {\r\n      outline: none;\r\n    }\r\n  }\r\n`;\r\n","import { StyledInputItem } from \"./Styled/InputItem.styled\";\r\nconst InputItem = ({ onChange, val }) => {\r\n  return (\r\n    <StyledInputItem>\r\n      <div className=\"mark\"></div>\r\n      <textarea value={val} onChange={(e) => onChange(e.target.value)}></textarea>\r\n    </StyledInputItem>\r\n  )\r\n}\r\n\r\nexport default InputItem;","import { StyledAddTodo } from \"./Styled/AddTodo.styled\";\r\nimport AddBtn from \"./AddBtn\";\r\nimport InputItem from \"./InputItem\";\r\nimport { useState } from 'react';\r\nimport { useActions } from \"../Hooks/useActions\";\r\n\r\nconst AddTodo = () => {\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  const [content, setContent] = useState(\"\");\r\n  const { add_todo } = useActions();\r\n\r\n  const reset = () => {\r\n    setContent(\"\");\r\n    setIsAdding(false);\r\n  }\r\n\r\n  const onSubmit = () => {\r\n    add_todo(content);\r\n    reset();\r\n  };\r\n\r\n\r\n  const renderBtnGroup = () => {\r\n    if (isAdding) {\r\n      return (\r\n        <div className=\"btn-group\">\r\n        <button className=\"cancel\" onClick={reset}>\r\n          <i className=\"fas fa-times\"></i>\r\n        </button>\r\n        <button className=\"submit\" onClick={onSubmit}>\r\n          <i className=\"fas fa-check\"></i>\r\n        </button>\r\n      </div>\r\n      )\r\n    }\r\n    return <AddBtn onClick={() => setIsAdding(true)}/>;\r\n  }\r\n\r\n  return (\r\n    <StyledAddTodo className=\"add-todo\">\r\n      {\r\n        isAdding && <div><InputItem onChange={setContent} val={content} /></div>\r\n      }\r\n      { renderBtnGroup() }\r\n    </StyledAddTodo>\r\n  )\r\n}\r\n\r\nexport default AddTodo;","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst rotation = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n\r\n`;\r\n\r\n\r\nexport const StyledLoadingAnim = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    background: #eee;\r\n    height: 100vh;\r\n    width: 100vw;\r\n    z-index: 5;\r\n    opacity: 0;\r\n    pointer-events: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    &.is--loading {\r\n      opacity: 0.6;\r\n    }\r\n\r\n    #loading-spinner {\r\n      height: 80px;\r\n      width: 80px;\r\n      border: 8px solid ${({ theme }) => theme.colors.delete};\r\n      border-right-color: transparent;\r\n      border-radius: 50%;\r\n      animation: ${rotation} 0.5s ease-in infinite;\r\n\r\n    }\r\n\r\n`;","import { StyledLoadingAnim } from \"./Styled/LoadingAnim.styled\";\r\nimport { useSelector } from \"react-redux\";\r\nconst LoadingSpinner = () => {\r\n  const isLoading = useSelector(state => state.loading);\r\n\r\n  return (\r\n    <StyledLoadingAnim className={isLoading ? \"is--loading\" : \"\"}>\r\n      <div id=\"loading-spinner\"></div>\r\n    </StyledLoadingAnim>\r\n  )\r\n}\r\n\r\nexport default LoadingSpinner;","import { useEffect } from 'react';\r\nimport { useActions } from '../Hooks/useActions';\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { GlobalStyles } from \"./Styled/Global\";\r\nimport { StyledContainer } from \"./Styled/Container.styled\";\r\nimport Logo from './Logo';\r\nimport UnfinishedList from './UnfinishedList';\r\nimport FinishedList from \"./FinishedList\";\r\nimport AddTodo from './AddTodo';\r\nimport LoadingSpinner from './Loading';\r\n\r\nconst theme = {\r\n  colors: {\r\n    bg: \"#EFEFEF\",\r\n    itemBg: '#FAFAFA',\r\n    itemText: '#626262',\r\n    sectionLabel: '#767676',\r\n    closeBtn: '#B1B1B1',\r\n    completeAddingBtn: '#80E894',\r\n    mark: '#6969FF',\r\n    delete: '#E36377',\r\n    white: '#FFFFFF',\r\n    title: '#4B4B4B',\r\n  },\r\n  itemRadius: '32px',\r\n  breakPoints: {\r\n    tablet: '1024px',\r\n    mobile: '640px'\r\n  }\r\n\r\n}\r\n\r\n\r\nconst App = () => {\r\n  const { get_todos } = useActions();\r\n\r\n  useEffect(() => {\r\n    get_todos();\r\n  }, [get_todos]);\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <GlobalStyles />\r\n      <LoadingSpinner />\r\n      <StyledContainer>\r\n        <Logo />\r\n        <UnfinishedList />\r\n        <FinishedList />\r\n        <AddTodo />\r\n      </StyledContainer>\r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Components/App';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './State/store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);"],"sourceRoot":""}