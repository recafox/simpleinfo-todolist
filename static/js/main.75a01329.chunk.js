(this.webpackJsonpsimpleinfo_todolist=this.webpackJsonpsimpleinfo_todolist||[]).push([[0],{61:function(n,t,e){"use strict";e.r(t);var o={};e.r(o),e.d(o,"get_todos",(function(){return D})),e.d(o,"add_todo",(function(){return J})),e.d(o,"update_todo",(function(){return L})),e.d(o,"delete_todo",(function(){return R}));var i,r,a,c,s,d,u,l,p,b=e(0),h=e(14),f=e.n(h),x=e(6),m=e(7),j=e(29),g=e(18),O="get_todo",k="add_todo",y="delete_todo",v="update_todo",w={todos:[]},_=function(){var n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O:return n=Object(g.a)(Object(g.a)({},t),{},{todos:e.payload});case k:return(n=JSON.parse(JSON.stringify(t))).todos.push({id:e.payload.id,content:e.payload.content,is_done:e.payload.is_done}),n;case v:return(n=JSON.parse(JSON.stringify(t))).todos.forEach((function(n){n.id===e.payload.id&&(n.content=e.payload.content,n.is_done=e.payload.is_done)})),n;case y:var o=(n=JSON.parse(JSON.stringify(t))).todos.filter((function(n){return n.id!==e.payload}));return n.todos=o,n;default:return t}},N=Object(m.c)({todos:_}),B=Object(m.d)(N,{},Object(m.a)(j.a)),F=e(5),z=e.n(F),C=e(10),S=e(11),E=e.n(S),q="https://todos.d.simpleinfo.tw/api",P={headers:{"api-key":"78bba90a-c22a-405e-a617-9abc07a9c3db"}},D=function(){return function(){var n=Object(C.a)(z.a.mark((function n(t){var e;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.get("".concat(q,"/todos"),P);case 2:e=n.sent,t({type:O,payload:e.data});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},J=function(n){var t={content:n,is_done:!1};return function(){var n=Object(C.a)(z.a.mark((function n(e){var o;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.post("".concat(q,"/todos"),t,P);case 2:o=n.sent,e({type:k,payload:{id:o.data.id,content:o.data.content,is_done:!1}});case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},L=function(n){return function(){var t=Object(C.a)(z.a.mark((function t(e){var o;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("".concat(q,"/todos/").concat(n.id),n,P);case 2:o=t.sent,e({type:v,payload:{id:o.data.id,content:o.data.content,is_done:o.data.is_done}});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},R=function(n){return function(){var t=Object(C.a)(z.a.mark((function t(e){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.delete("".concat(q,"/todos/").concat(n),P);case 2:e({type:y,payload:n});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},T=function(){var n=Object(x.b)();return Object(m.b)(o,n)},A=e(2),X=e(3),Y=Object(A.b)(i||(i=Object(X.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@500;700&display=swap');\n    /* http://meyerweb.com/eric/tools/css/reset/ \n    v2.0 | 20110126\n    License: none (public domain)\n  */\n\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Noto Sans TC', sans-serif;\n    background-color: ",";\n    margin: 0;\n    font-size: 20px;\n  }\n\n  button {\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.colors.bg})),H=A.c.div(r||(r=Object(X.a)(["\n  width: 1024px;\n  margin: 0 auto;\n  position: relative;\n  padding-bottom: 200px;\n\n  @media(max-width: ",") {\n    width: 100vw;\n    padding: 40px 40px 200px 40px;\n  }\n\n  @media(max-width: ",") {\n    padding: 40px 24px 200px 24px;\n  }\n  \n"])),(function(n){return n.theme.breakPoints.tablet}),(function(n){return n.theme.breakPoints.tablet})),K=A.c.h1(a||(a=Object(X.a)(["\n  color: ",";\n  font-size: 64px;\n  line-height: 87px;\n  font-weight: bold;\n  margin-bottom: 40px;\n"])),(function(n){return n.theme.colors.title})),M=e(1),G=function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(K,{children:"Todos"})})},I=A.c.p(c||(c=Object(X.a)(["\n  color: ",";\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  margin-bottom: 24px;\n"])),(function(n){return n.theme.colors.sectionLabel})),Q=function(n){var t=n.text,e=n.number;return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(I,{children:[t," (",e,")"]})})},U=e(9),V=A.c.li(s||(s=Object(X.a)(["\n  display: flex;\n  max-width: 1024px;\n  min-height: 88px;\n  width: 100%;\n  position: relative;\n  border-radius: ",";\n  overflow: hidden;\n  box-shadow: 0px 4px 12px #00000026;\n\n\n  .content,\n  .base {\n    min-height: 88px;\n    display: flex;\n    width: 100%;\n    min-height: 100%;\n    padding: 24px 40px 24px 24px;\n    border-radius: ",";\n  }\n\n  .content {\n    position: relative;\n    width: 100%;\n    z-index: 3;\n    background: ",";\n    align-items: center;\n    transition: all 0.2s ease-in;\n\n    p {\n      width: 95%;\n      word-break: break-all;\n    }\n  }\n\n  textarea {\n    display: none;\n    resize: none;\n    border: none;\n    border-bottom: 2px solid #eee;\n    width: 100%;\n    background: transparent;\n    font-size: 20px;\n    line-height: 27px;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  &.is--done {\n    .mark:after {\n      opacity: 0.33;\n    }\n\n    .content {\n      background: #DBDBDB;\n      color: #626262;\n    }\n  }\n\n  .text {\n    display: block;\n  }\n  textarea {\n    display: none;\n  }\n\n  &.is--editing {\n    .content {\n      width: calc(100% - 88px);\n    }\n    .text {\n      display: none;\n    }\n    textarea {\n      display: block;\n    }\n  }\n\n  .mark {\n    flex-shrink: 0;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    border: 4px solid ",';\n    background: transparent;\n    margin-right: 24px;\n    position: relative;\n\n    &:hover {\n      &:after {\n        opacity: 0.33;\n      }\n    }\n\n    &:after {\n      content: "";\n      display: block;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      background: ',";\n      opacity: 0;\n      height: 24px;\n      width: 24px;\n      border-radius: 50%;\n    }\n  }\n\n  .base {\n    position: absolute;\n    left: 0;\n    top: 0;\n    height: 100%;\n    background-color: ",";\n  }\n  .deleteBtn {\n    font-size: 32px;\n    padding: 0;\n    margin-left: auto;\n    background-color: transparent;\n    color: ",";\n    border: none;\n  }\n"])),(function(n){return n.theme.itemRadius}),(function(n){return n.theme.itemRadius}),(function(n){return n.theme.colors.itemBg}),(function(n){return n.theme.colors.mark}),(function(n){return n.theme.colors.mark}),(function(n){return n.theme.colors.delete}),(function(n){return n.theme.colors.white})),W=function(n){var t=n.id,e=n.isDone,o=n.content,i=Object(b.useState)(!1),r=Object(U.a)(i,2),a=r[0],c=r[1],s=Object(b.useState)(o),d=Object(U.a)(s,2),u=d[0],l=d[1],p=T(),h=p.update_todo,f=p.delete_todo,x=Object(b.useRef)(),m=Object(b.useRef)();Object(b.useEffect)((function(){var n=function(n){x.current.contains(n.target)||c(!1)};return document.body.addEventListener("click",n),function(){document.body.removeEventListener("click",n)}}),[]);return Object(M.jsxs)(V,{ref:x,className:"todo-item ".concat(e?"is--done":""," ").concat(a?"is--editing":""),children:[Object(M.jsxs)("div",{className:"content",children:[Object(M.jsx)("button",{className:"mark",onClick:function(n){h({id:t,content:u,is_done:!e})}}),Object(M.jsx)("p",{className:"text",onClick:function(n){a||(c(!0),m.current.focus())},children:u}),Object(M.jsx)("textarea",{ref:m,onKeyPress:function(n){!function(n){13===n.charCode&&a&&(u!==o&&h({id:t,content:u,is_done:e}),c(!1))}(n)},value:u,onChange:function(n){return l(n.target.value)}})]}),Object(M.jsx)("div",{className:"base",children:Object(M.jsx)("button",{className:"deleteBtn",onClick:function(n){f(t)},children:Object(M.jsx)("i",{className:"fas fa-times"})})})]})},Z=A.c.ul(d||(d=Object(X.a)(["\n  min-height: 200px;\n  li {\n    margin-bottom: 24px;\n  }\n  li:last-of-type {\n    margin-bottom: 64px;\n  }\n"]))),$=function(){var n=Object(x.c)((function(n){return n.todos.todos})),t=n.length?n.filter((function(n){return!1===n.is_done})):[];return Object(M.jsxs)("div",{children:[Object(M.jsx)(Q,{text:"\u672a\u5b8c\u6210\u5f85\u8fa6",number:t.length}),Object(M.jsx)(Z,{children:t.length?t.map((function(n){return Object(M.jsx)(W,{id:n.id,content:n.content,isDone:!1},n.id)})):""})]})},nn=function(){var n=Object(x.c)((function(n){return n.todos.todos})),t=n.length?n.filter((function(n){return!0===n.is_done})):[];return Object(M.jsxs)("div",{children:[Object(M.jsx)(Q,{text:"\u5df2\u5b8c\u6210\u5f85\u8fa6",number:t.length}),Object(M.jsx)(Z,{children:t.length?t.map((function(n){return Object(M.jsx)(W,{id:n.id,content:n.content,isDone:!0},n.id)})):""})]})},tn=A.c.div(u||(u=Object(X.a)(["\n  position: absolute;\n  bottom: 80px;\n  right: 0;\n  width: 100%;\n\n  @media(max-width: ",") {\n    width: calc(100% - 48px);\n    right: 24px;\n  }\n\n  .btn-group {\n    display: flex;\n    align-items: center;\n    position: absolute;\n    right: 0;\n  }\n\n  .cancel,\n  .submit {\n    border-radius: 50%;\n    border: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .cancel {\n    width: 64px;\n    height: 64px;\n    border: 4px solid #B1B1B1;\n    color: #B1B1B1;\n    font-size: 32px;\n    margin-right: 17px;\n  }\n\n  .submit {\n    height: 80px;\n    width: 80px;\n    color: #fff;\n    background: #80E894;\n    font-size: 40px;\n    box-shadow: 0px 4px 12px #0000004D;\n\n    @media(max-width: ",") {\n      height: 64px;\n      width: 64px;\n      font-size: 36px;\n    }\n  }\n"])),(function(n){return n.theme.breakPoints.tablet}),(function(n){return n.theme.breakPoints.mobile})),en=A.c.button(l||(l=Object(X.a)(["\n  height: 80px;\n  width: 80px;\n  border: none;\n  background: ",";\n  font-size: 40px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  border-radius: 50%;\n  position: absolute;\n  right: 0;\n  box-shadow: 0px 4px 12px #0000004D;\n\n  @media(max-width: ",") {\n    height: 64px;\n    width: 64px;\n  }\n"])),(function(n){return n.theme.colors.mark}),(function(n){return n.theme.breakPoints.mobile})),on=function(n){var t=n.onClick;return Object(M.jsx)(en,{onClick:function(n){return t(n)},children:Object(M.jsx)("i",{className:"fas fa-plus"})})},rn=A.c.div(p||(p=Object(X.a)(["\n  background: #fff;\n  width: 100%;\n  min-height: 88px;\n  display: flex;\n  align-items: center;\n  border-radius: ",";\n  padding: 24px;\n  margin-bottom: 40px;\n\n  @media(max-width: ",") {\n      min-height: 72px;\n  }\n\n  .mark {\n    flex-shrink: 0;\n    height: 40px;\n    width: 40px;\n    border-radius: 50%;\n    border: 4px solid ",";\n    background: transparent;\n    margin-right: 24px;\n    position: relative;\n\n    @media(max-width: ",') {\n      margin-right: 16px;\n    }\n\n    &:hover {\n      &:after {\n        opacity: 0.33;\n      }\n    }\n\n    &:after {\n      content: "";\n      display: block;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      background: ',";\n      opacity: 0;\n      height: 24px;\n      width: 24px;\n      border-radius: 50%;\n    }\n  }\n\n  textarea {\n    display: block;\n    resize: none;\n    border: none;\n    border-bottom: 2px solid #eee;\n    width: 100%;\n    background: transparent;\n    font-size: 20px;\n    line-height: 27px;\n\n    &:focus {\n      outline: none;\n    }\n  }\n"])),(function(n){return n.theme.itemRadius}),(function(n){return n.theme.breakPoints.tablet}),(function(n){return n.theme.colors.mark}),(function(n){return n.theme.breakPoints.tablet}),(function(n){return n.theme.colors.mark})),an=function(n){var t=n.onChange,e=n.val;return Object(M.jsxs)(rn,{children:[Object(M.jsx)("div",{className:"mark"}),Object(M.jsx)("textarea",{value:e,onChange:function(n){return t(n.target.value)}})]})},cn=function(){var n=Object(b.useState)(!1),t=Object(U.a)(n,2),e=t[0],o=t[1],i=Object(b.useState)(""),r=Object(U.a)(i,2),a=r[0],c=r[1],s=T().add_todo,d=function(){s(a),c(""),o(!1)};return Object(M.jsxs)(tn,{className:"add-todo",children:[e&&Object(M.jsx)("div",{children:Object(M.jsx)(an,{onChange:c,val:a})}),e?Object(M.jsxs)("div",{className:"btn-group",children:[Object(M.jsx)("button",{className:"cancel",onClick:function(n){return o(!1)},children:Object(M.jsx)("i",{className:"fas fa-times"})}),Object(M.jsx)("button",{className:"submit",onClick:d,children:Object(M.jsx)("i",{className:"fas fa-check"})})]}):Object(M.jsx)(on,{onClick:function(){return o(!0)}})]})},sn={colors:{bg:"#EFEFEF",itemBg:"#FAFAFA",itemText:"#626262",sectionLabel:"#767676",closeBtn:"#B1B1B1",completeAddingBtn:"#80E894",mark:"#6969FF",delete:"#E36377",white:"#FFFFFF",title:"#4B4B4B"},itemRadius:"32px",breakPoints:{tablet:"1024px",mobile:"640px"}},dn=function(){var n=T().get_todos;return Object(b.useEffect)((function(){n()}),[n]),Object(M.jsxs)(A.a,{theme:sn,children:[Object(M.jsx)(Y,{}),Object(M.jsxs)(H,{children:[Object(M.jsx)(G,{}),Object(M.jsx)($,{}),Object(M.jsx)(nn,{}),Object(M.jsx)(cn,{})]})]})};f.a.render(Object(M.jsx)(x.a,{store:B,children:Object(M.jsx)(dn,{})}),document.querySelector("#root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.75a01329.chunk.js.map